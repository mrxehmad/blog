<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/">
    <title>Ehmi</title>
    <link href="https://blog.ehmad.site/feed.xml" rel="self" />
    <link href="https://blog.ehmad.site" />
    <updated>2025-01-05T11:01:13+05:00</updated>
    <author>
        <name>Ehmad</name>
    </author>
    <id>https://blog.ehmad.site</id>

    <entry>
        <title>Remove apps using ADB (Android Debug Bridge)</title>
        <author>
            <name>Ehmad</name>
        </author>
        <link href="https://blog.ehmad.site/remove-apps-using-adb-android-debug-bridge/"/>
        <id>https://blog.ehmad.site/remove-apps-using-adb-android-debug-bridge/</id>

        <updated>2025-01-05T11:01:00+05:00</updated>
            <summary>
                <![CDATA[
                    You can remove apps using ADB (Android Debug Bridge) by following these steps: Connect Your Device: Verify ADB Connection: adb devices If prompted on your device, grant USB debugging permission. The terminal should display your device’s serial number, confirming the connection. List Installed Apps: adb&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>You can remove apps using <strong>ADB (Android Debug Bridge)</strong> by following these steps:</p><h3 id="prerequisites">Prerequisites:</h3>
<ol>
<li><strong>Enable Developer Options</strong> on your Android device:<ul>
<li>Go to <strong>Settings &gt; About phone</strong>.</li>
<li>Tap <strong>Build number</strong> seven times to enable Developer Options.</li>
</ul>
</li>
<li><strong>Enable USB Debugging</strong>:<ul>
<li>In <strong>Settings &gt; Developer Options</strong>, toggle on <strong>USB Debugging</strong>.</li>
</ul>
</li>
<li><strong>Install ADB on your computer</strong>:<ul>
<li>Download the <strong>ADB and Fastboot platform tools</strong> from the <a href="https://developer.android.com/studio/releases/platform-tools">official Android Developer website</a>.</li>
<li>Extract the ZIP file to a folder on your computer.</li>
</ul>
</li>
</ol>
<hr>
<h3 id="steps-to-remove-apps-using-adb">Steps to Remove Apps Using ADB:</h3>
<ol>
<li><p><strong>Connect Your Device</strong>:</p><ul>
<li>Plug your Android device into your computer using a USB cable.</li>
<li>Ensure your device is set to <strong>File Transfer (MTP)</strong> mode if prompted.</li>
</ul>
</li>
<li><p><strong>Verify ADB Connection</strong>:</p><ul>
<li>Open a terminal (or Command Prompt) on your computer.</li>
<li>Navigate to the folder where you extracted the ADB tools.</li>
<li>Run the following command:<pre><code class="language-bash">adb devices
</code></pre>
</li>
<li>If prompted on your device, grant <strong>USB debugging permission</strong>.</li>
<li>The terminal should display your device’s serial number, confirming the connection.</li>
</ul>
</li>
<li><p><strong>List Installed Apps</strong>:</p><ul>
<li>Run the following command to see a list of installed packages:<pre><code class="language-bash">adb shell pm list packages
</code></pre>
</li>
<li>This will return a list of package names (e.g., <code>com.example.app</code>).</li>
</ul>
</li>
<li><p><strong>Uninstall the App</strong>:</p><ul>
<li>Use the following command to uninstall an app:<pre><code class="language-bash">adb shell pm uninstall --user 0 &lt;package_name&gt;
</code></pre>
</li>
<li>Replace <code>&lt;package_name&gt;</code> with the package name of the app you want to remove.</li>
<li>Example:<pre><code class="language-bash">adb shell pm uninstall --user 0 com.facebook.katana
</code></pre>
</li>
<li>This removes the app for the current user but does not delete it from the system partition (useful for pre-installed apps).</li>
</ul>
</li>
<li><p><strong>Verify Uninstallation</strong>:</p><ul>
<li>Re-run the package list command to ensure the app is no longer listed:<pre><code class="language-bash">adb shell pm list packages
</code></pre>
</li>
</ul>
</li>
</ol>
<hr>
<h3 id="notes">Notes:</h3>
<ul>
<li><strong>Pre-installed Apps</strong>: Using <code>--user 0</code> disables the app for the current user, which is usually sufficient. However, to permanently delete system apps, you would need root access.</li>
<li><strong>Reinstall Disabled Apps</strong>: To restore an uninstalled app:<pre><code class="language-bash">adb shell cmd package install-existing &lt;package_name&gt;
</code></pre>
</li>
</ul>
<p>Let me know if you need help with any specific app removal!</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Windows package managers (CLI)</title>
        <author>
            <name>Ehmad</name>
        </author>
        <link href="https://blog.ehmad.site/windows-package-managers-cli/"/>
        <id>https://blog.ehmad.site/windows-package-managers-cli/</id>

        <updated>2024-12-26T08:24:56+05:00</updated>
            <summary>
                <![CDATA[
                    Windows offers several package managers that can simplify the process of installing and managing software. Here are some of the most popular ones: winget install &lt;package-name&gt; Example:winget install firefox List available packages:winget search &lt;package-name&gt; 2. Chocolatey Description: Chocolatey is one of the most popular package&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Windows offers several package managers that can simplify the process of installing and managing software. Here are some of the most popular ones:</p><h3 id="1-winget-windows-package-manager">1. <strong>winget (Windows Package Manager)</strong></h3>
<ul>
<li><strong>Description</strong>: <code>winget</code> is a native Windows package manager developed by Microsoft. It allows you to search, install, update, and manage software from the command line.</li>
<li><strong>How to use</strong>:<ul>
<li><strong>Install</strong>: <code>winget</code> comes pre-installed on Windows 10 (starting with version 1809) and Windows 11.</li>
<li><strong>Install a package</strong>:<pre><code class="language-bash">winget install &lt;package-name&gt;
</code></pre>
</li>
<li><strong>Example</strong>:<pre><code class="language-bash">winget install firefox
</code></pre>
</li>
<li><strong>List available packages</strong>:<pre><code class="language-bash">winget search &lt;package-name&gt;
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="2-chocolatey">2. <strong>Chocolatey</strong></h3>
<ul>
<li><strong>Description</strong>: Chocolatey is one of the most popular package managers for Windows. It works similarly to <code>apt</code> (on Linux) or <code>brew</code> (on macOS) and allows you to install software, update it, and manage dependencies easily.</li>
<li><strong>How to use</strong>:<ul>
<li><strong>Install</strong>:<ul>
<li>Open PowerShell as Administrator and run:<pre><code class="language-powershell">Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.SecurityProtocolType]::Tls12; iex ((New-Object System.Net.WebClient).DownloadString(&#39;https://chocolatey.org/install.ps1&#39;))
</code></pre>
</li>
</ul>
</li>
<li><strong>Install a package</strong>:<pre><code class="language-bash">choco install &lt;package-name&gt;
</code></pre>
</li>
<li><strong>Example</strong>:<pre><code class="language-bash">choco install googlechrome
</code></pre>
</li>
<li><strong>Update a package</strong>:<pre><code class="language-bash">choco upgrade &lt;package-name&gt;
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="3-scoop">3. <strong>Scoop</strong></h3>
<ul>
<li><strong>Description</strong>: Scoop is a simple and powerful command-line installer for Windows. It focuses on simplicity and is popular among developers for installing development tools.</li>
<li><strong>How to use</strong>:<ul>
<li><strong>Install</strong>:
Open PowerShell and run:<pre><code class="language-powershell">Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
iwr -useb get.scoop.sh | iex
</code></pre>
</li>
<li><strong>Install a package</strong>:<pre><code class="language-bash">scoop install &lt;package-name&gt;
</code></pre>
</li>
<li><strong>Example</strong>:<pre><code class="language-bash">scoop install git
</code></pre>
</li>
<li><strong>List available buckets</strong>:<pre><code class="language-bash">scoop bucket add &lt;bucket-name&gt;
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="4-ninite">4. <strong>Ninite</strong></h3>
<ul>
<li><strong>Description</strong>: Ninite is a simple and easy-to-use tool that allows you to batch install popular software. It’s not exactly a package manager, but it automates the process of downloading and installing apps.</li>
<li><strong>How to use</strong>:<ul>
<li><strong>Download</strong> the Ninite installer from the Ninite website.</li>
<li><strong>Select the apps</strong> you want to install from the list on the Ninite website and download the custom installer.</li>
<li><strong>Run the installer</strong> to automatically install all selected software.</li>
</ul>
</li>
</ul>
<h3 id="5-appget">5. <strong>AppGet</strong></h3>
<ul>
<li><strong>Description</strong>: AppGet is another package manager for Windows that provides a streamlined way to install software. It aims to be a more modern and stable package manager but is less widely used than the others.</li>
<li><strong>How to use</strong>:<ul>
<li><strong>Install</strong>: First, you need to install AppGet from its GitHub page or from the <a href="https://appget.net">AppGet website</a>.</li>
<li><strong>Install a package</strong>:<pre><code class="language-bash">appget install &lt;package-name&gt;
</code></pre>
</li>
<li><strong>Example</strong>:<pre><code class="language-bash">appget install vscode
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="6-portableapps">6. <strong>PortableApps</strong></h3>
<ul>
<li><strong>Description</strong>: PortableApps isn’t a package manager in the traditional sense, but it provides a platform for running portable versions of popular software. It’s ideal if you prefer not to install software directly onto your system.</li>
<li><strong>How to use</strong>:<ul>
<li><strong>Download</strong> and install the <a href="https://portableapps.com/">PortableApps platform</a>.</li>
<li><strong>Install apps</strong> from the platform’s app store or manually by downloading portable versions.</li>
</ul>
</li>
</ul>
<h3 id="7-msi-package-via-powershell">7. <strong>MSI Package (via PowerShell)</strong></h3>
<ul>
<li><strong>Description</strong>: You can install MSI (Microsoft Installer) packages using PowerShell. This is more manual compared to the other package managers but gives you control over specific installations.</li>
<li><strong>How to use</strong>:<ul>
<li><strong>Install an MSI package</strong>:<pre><code class="language-powershell">msiexec /i &quot;C:\path\to\installer.msi&quot;
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="8-fdm-free-download-manager">8. <strong>FDM (Free Download Manager)</strong></h3>
<ul>
<li><strong>Description</strong>: Free Download Manager isn’t exactly a package manager, but it supports downloading installers and automating installation tasks.</li>
<li><strong>How to use</strong>:<ul>
<li>Use it to download software or package files, and it will assist in managing the downloads.</li>
</ul>
</li>
</ul>
<hr>
<h3 id="comparison-overview">Comparison Overview:</h3>
<table>
<thead>
<tr>
<th>Package Manager</th>
<th>Ease of Use</th>
<th>Package Availability</th>
<th>Best For</th>
<th>Official Site</th>
</tr>
</thead>
<tbody><tr>
<td><strong>winget</strong></td>
<td>Easy</td>
<td>Good</td>
<td>General use, Windows apps</td>
<td><a href="https://github.com/microsoft/winget-cli">https://github.com/microsoft/winget-cli</a></td>
</tr>
<tr>
<td><strong>Chocolatey</strong></td>
<td>Easy</td>
<td>Excellent</td>
<td>General use, productivity software</td>
<td><a href="https://chocolatey.org">https://chocolatey.org</a></td>
</tr>
<tr>
<td><strong>Scoop</strong></td>
<td>Easy</td>
<td>Good</td>
<td>Developer tools</td>
<td><a href="https://scoop.sh">https://scoop.sh</a></td>
</tr>
<tr>
<td><strong>Ninite</strong></td>
<td>Very Easy</td>
<td>Limited</td>
<td>Quick batch installation</td>
<td><a href="https://ninite.com">https://ninite.com</a></td>
</tr>
<tr>
<td><strong>AppGet</strong></td>
<td>Easy</td>
<td>Moderate</td>
<td>Software management</td>
<td><a href="https://appget.net">https://appget.net</a></td>
</tr>
<tr>
<td><strong>PortableApps</strong></td>
<td>Very Easy</td>
<td>Limited</td>
<td>Portable apps</td>
<td><a href="https://portableapps.com">https://portableapps.com</a></td>
</tr>
<tr>
<td><strong>MSI via PowerShell</strong></td>
<td>Manual</td>
<td>Depends on the MSI file</td>
<td>Specific app installs</td>
<td>N/A</td>
</tr>
</tbody></table>
<p>Each of these package managers has its strengths and use cases. <strong>winget</strong>, <strong>Chocolatey</strong>, and <strong>Scoop</strong> are widely used for general-purpose package management, while <strong>Ninite</strong> is useful for batch installation, and <strong>PortableApps</strong> is great for portable software.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>How to Fix WebDAV Connection Issues in Windows and Map a WebDAV Drive</title>
        <author>
            <name>Ehmad</name>
        </author>
        <link href="https://blog.ehmad.site/how-to-fix-webdav-connection-issues-in-windows-and-map-a-webdav-drive/"/>
        <id>https://blog.ehmad.site/how-to-fix-webdav-connection-issues-in-windows-and-map-a-webdav-drive/</id>

        <updated>2024-12-14T15:14:46+05:00</updated>
            <summary>
                <![CDATA[
                    WebDAV (Web-based Distributed Authoring and Versioning) is a protocol that allows users to manage and share files over the web. While connecting to a WebDAV endpoint is straightforward on many platforms, Windows users may encounter challenges, such as errors while mapping WebDAV drives or accessing&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>WebDAV (Web-based Distributed Authoring and Versioning) is a protocol that allows users to manage and share files over the web. While connecting to a WebDAV endpoint is straightforward on many platforms, Windows users may encounter challenges, such as errors while mapping WebDAV drives or accessing files. This guide explains how to troubleshoot common WebDAV issues and successfully map a WebDAV drive in Windows.</p><hr>
<h2 id="common-webdav-issues-in-windows"><strong>Common WebDAV Issues in Windows</strong></h2>
<p>Some common errors while attempting to map a WebDAV drive in Windows include:</p><ol>
<li><strong>“System error 67 has occurred”</strong>: Indicates that Windows could not find the specified network resource.</li>
<li><strong>“The network name cannot be found”</strong>: Often caused by URL formatting issues or an inactive WebClient service.</li>
<li><strong>Login prompts with valid credentials</strong>: Indicates a mismatch between authentication requirements or unsupported protocols.</li>
<li><strong>“The folder you entered does not appear to be valid”</strong>: Usually occurs when Windows cannot verify the WebDAV endpoint.</li>
</ol>
<hr>
<h2 id="steps-to-map-a-webdav-drive-in-windows"><strong>Steps to Map a WebDAV Drive in Windows</strong></h2>
<h3 id="1-test-the-webdav-url"><strong>1. Test the WebDAV URL</strong></h3>
<p>Before mapping a drive, ensure the WebDAV server is working correctly:</p><ol>
<li>Open a web browser and visit your WebDAV URL (e.g., <code>https://example.com/webdav</code>).</li>
<li>Verify that you can log in and access the files.</li>
</ol>
<p>If the URL works in the browser, proceed to the next step. If not, check your server settings or consult your server administrator.</p><hr>
<h3 id="2-use-the-correct-unc-path-for-webdav"><strong>2. Use the Correct UNC Path for WebDAV</strong></h3>
<p>Windows requires a specific UNC format for WebDAV connections over HTTPS. Use the following syntax:</p><pre><code>\\hostname@SSL\path
</code></pre>
<p>For example:</p><ul>
<li>If your WebDAV URL is <code>https://example.com/webdav</code>, the UNC path would be:<pre><code>\\example.com@SSL\webdav
</code></pre>
</li>
</ul>
<hr>
<h3 id="3-map-the-webdav-drive"><strong>3. Map the WebDAV Drive</strong></h3>
<p>To map a WebDAV drive in Windows:</p><ol>
<li>Open <strong>Command Prompt</strong> as Administrator.</li>
<li>Run the following command:<pre><code class="language-cmd">net use Y: \\example.com@SSL\webdav /user:YourUsername YourPassword /persistent:yes
</code></pre>
<ul>
<li>Replace <code>Y:</code> with your desired drive letter.</li>
<li>Replace <code>YourUsername</code> and <code>YourPassword</code> with your WebDAV credentials.</li>
</ul>
</li>
</ol>
<p>If successful, you’ll see a confirmation message. The drive will now appear in File Explorer.</p><hr>
<h3 id="4-enable-the-webclient-service"><strong>4. Enable the WebClient Service</strong></h3>
<p>The Windows WebDAV client relies on the WebClient service. Ensure it’s running:</p><ol>
<li>Press <code>Win + R</code>, type <code>services.msc</code>, and press Enter.</li>
<li>Locate <strong>WebClient</strong> in the list.</li>
<li>If the service is stopped, right-click and select <strong>Start</strong>.</li>
<li>Set the <strong>Startup Type</strong> to <strong>Automatic</strong>.</li>
</ol>
<p>Restart the service if necessary.</p><hr>
<h3 id="5-configure-windows-for-basic-authentication"><strong>5. Configure Windows for Basic Authentication</strong></h3>
<p>Some WebDAV servers use Basic Authentication, which may need to be explicitly enabled in Windows:</p><ol>
<li>Press <code>Win + R</code>, type <code>regedit</code>, and press Enter.</li>
<li>Navigate to:<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\WebClient\Parameters
</code></pre>
</li>
<li>Modify or create the following registry keys:<ul>
<li><strong>BasicAuthLevel</strong>: Set this DWORD value to <code>2</code> (enables Basic Authentication over HTTPS).</li>
<li><strong>UseBasicAuth</strong>: Set this DWORD value to <code>1</code>.</li>
</ul>
</li>
</ol>
<p>Restart the WebClient service after making these changes.</p><hr>
<h3 id="6-save-webdav-credentials"><strong>6. Save WebDAV Credentials</strong></h3>
<p>To avoid repeated login prompts, save your WebDAV credentials:</p><ol>
<li>Open <strong>Control Panel</strong> &gt; <strong>Credential Manager</strong>.</li>
<li>Add a new <strong>Windows Credential</strong>:<ul>
<li>Network address: <code>example.com</code></li>
<li>Username: Your WebDAV username.</li>
<li>Password: Your WebDAV password.</li>
</ul>
</li>
</ol>
<hr>
<h3 id="7-address-webdav-upload-limits"><strong>7. Address WebDAV Upload Limits</strong></h3>
<p>If your WebDAV server limits file uploads (e.g., 100 MB):</p><ol>
<li>Adjust the upload size limit on the server. For example:<ul>
<li><strong>Apache</strong>: Increase <code>LimitRequestBody</code> and <code>php.ini</code> file size limits.</li>
<li><strong>Nginx</strong>: Increase <code>client_max_body_size</code>.</li>
<li><strong>IIS</strong>: Modify the <code>maxAllowedContentLength</code> property.</li>
</ul>
</li>
<li>Use chunked uploads if supported by your WebDAV client.</li>
</ol>
<hr>
<h3 id="8-test-with-third-party-webdav-clients"><strong>8. Test with Third-Party WebDAV Clients</strong></h3>
<p>If Windows fails to connect, try a third-party WebDAV client:</p><ul>
<li><strong>Cyberduck</strong>: An open-source client for managing WebDAV connections.</li>
<li><strong>WinSCP</strong>: A robust tool for FTP, SFTP, and WebDAV.</li>
<li><strong>RaiDrive</strong>: Maps WebDAV as a network drive with additional configuration options.</li>
</ul>
<hr>
<h2 id="troubleshooting-common-errors"><strong>Troubleshooting Common Errors</strong></h2>
<h3 id="error-system-error-67-has-occurred"><strong>Error: System Error 67 Has Occurred</strong></h3>
<p>This error typically occurs due to:</p><ul>
<li>Incorrect URL formatting: Use <code>\\hostname@SSL\path</code>.</li>
<li>The WebClient service not running: Start the service via <code>services.msc</code>.</li>
</ul>
<h3 id="error-login-prompt-fails-despite-correct-credentials"><strong>Error: Login Prompt Fails Despite Correct Credentials</strong></h3>
<ul>
<li>Check server-side authentication settings.</li>
<li>Save credentials in the Credential Manager.</li>
</ul>
<h3 id="error-the-folder-you-entered-does-not-appear-to-be-valid"><strong>Error: The Folder You Entered Does Not Appear to Be Valid</strong></h3>
<ul>
<li>Use the UNC format (<code>\\hostname@SSL\path</code>).</li>
<li>Ensure the WebClient service is running.</li>
</ul>
<hr>
<h2 id="conclusion"><strong>Conclusion</strong></h2>
<p>Mapping a WebDAV drive in Windows requires careful attention to URL formatting, service configuration, and authentication settings. By following the steps outlined in this guide, you can successfully resolve connection issues and map your WebDAV drive. If problems persist, third-party WebDAV clients can provide additional flexibility and troubleshooting insights.</p><p>Let me know if you’d like to customize this article further!</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>TCP/IP model</title>
        <author>
            <name>Ehmad</name>
        </author>
        <link href="https://blog.ehmad.site/tcpip-model/"/>
        <id>https://blog.ehmad.site/tcpip-model/</id>

        <updated>2024-12-07T10:20:01+05:00</updated>
            <summary>
                <![CDATA[
                    The TCP/IP model is a framework used for network communication. It outlines how data is transmitted across interconnected devices and ensures compatibility across different systems. It is the foundation of the Internet and consists of four layers, each with specific responsibilities. Application Layer Transport Layer&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>The <strong>TCP/IP model</strong> is a framework used for network communication. It outlines how data is transmitted across interconnected devices and ensures compatibility across different systems. It is the foundation of the Internet and consists of four layers, each with specific responsibilities.</p><hr>
<h3 id="layers-of-the-tcpip-model"><strong>Layers of the TCP/IP Model:</strong></h3>
<ol>
<li><p><strong>Application Layer</strong>  </p><ul>
<li><strong>Purpose:</strong> Provides network services to applications and users. It enables communication between software and the network.</li>
<li><strong>Examples:</strong> HTTP (web browsing), SMTP (email), FTP (file transfer), DNS (domain name resolution).</li>
<li><strong>Functions:</strong>  <ul>
<li>Handles data formatting, encoding, and processing.</li>
<li>Ensures user interactions are effectively transmitted over the network.</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Transport Layer</strong>  </p><ul>
<li><strong>Purpose:</strong> Ensures reliable data transfer between devices.</li>
<li><strong>Examples:</strong> TCP (Transmission Control Protocol), UDP (User Datagram Protocol).</li>
<li><strong>Functions:</strong>  <ul>
<li><strong>TCP:</strong> Reliable, connection-oriented communication (e.g., web pages, emails).</li>
<li><strong>UDP:</strong> Faster, connectionless communication (e.g., video streaming, online gaming).</li>
<li>Error detection, flow control, and data segmentation.</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Internet Layer</strong>  </p><ul>
<li><strong>Purpose:</strong> Handles routing and addressing, allowing data to move across networks.</li>
<li><strong>Examples:</strong> IP (Internet Protocol), ICMP (Internet Control Message Protocol), ARP (Address Resolution Protocol).</li>
<li><strong>Functions:</strong>  <ul>
<li>Defines logical addressing (IP addresses).</li>
<li>Routes data packets between devices across networks.</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Network Access Layer (or Link Layer)</strong>  </p><ul>
<li><strong>Purpose:</strong> Governs how data is physically transmitted over the network.</li>
<li><strong>Examples:</strong> Ethernet, Wi-Fi, ARP.</li>
<li><strong>Functions:</strong>  <ul>
<li>Defines how data frames are transmitted over the physical medium (e.g., cables, wireless).</li>
<li>Handles hardware addressing (MAC addresses) and error detection at the physical level.</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<h3 id="key-features-of-the-tcpip-model"><strong>Key Features of the TCP/IP Model:</strong></h3>
<ol>
<li><strong>Scalability:</strong> Designed for large-scale networks like the Internet.</li>
<li><strong>Flexibility:</strong> Supports multiple types of hardware and software.</li>
<li><strong>Interoperability:</strong> Ensures diverse systems can communicate effectively.</li>
<li><strong>Layer Independence:</strong> Each layer operates independently but works cohesively with others.</li>
</ol>
<hr>
<h3 id="comparison-with-osi-model"><strong>Comparison with OSI Model</strong></h3>
<ul>
<li>The <strong>TCP/IP model</strong> has four layers, while the <strong>OSI model</strong> has seven layers.</li>
<li>TCP/IP focuses more on practical implementation, whereas OSI is more theoretical.</li>
<li>Layers in TCP/IP map roughly to OSI as follows:<ul>
<li><strong>Application (TCP/IP)</strong> = Application, Presentation, and Session (OSI)</li>
<li><strong>Transport (TCP/IP)</strong> = Transport (OSI)</li>
<li><strong>Internet (TCP/IP)</strong> = Network (OSI)</li>
<li><strong>Network Access (TCP/IP)</strong> = Data Link + Physical (OSI)</li>
</ul>
</li>
</ul>
<p>Understanding the TCP/IP model is crucial for networking, as it underpins the modern Internet and its communication protocols.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Streaming live audio over Wi-Fi with an ESP8266</title>
        <author>
            <name>Ehmad</name>
        </author>
        <link href="https://blog.ehmad.site/streaming-live-audio-over-wi-fi-with-an-esp8266/"/>
        <id>https://blog.ehmad.site/streaming-live-audio-over-wi-fi-with-an-esp8266/</id>

        <updated>2024-12-04T09:25:55+05:00</updated>
            <summary>
                <![CDATA[
                    Streaming live audio over Wi-Fi with an ESP8266 is a fascinating project but has some limitations due to the hardware’s constrained resources. The ESP8266 is designed for IoT applications and may not handle high-quality audio streaming directly. However, with careful design, it’s possible to achieve&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Streaming live audio over Wi-Fi with an <strong>ESP8266</strong> is a fascinating project but has some limitations due to the hardware’s constrained resources. The ESP8266 is designed for IoT applications and may not handle high-quality audio streaming directly. However, with careful design, it’s possible to achieve low-bitrate audio streaming. Here’s how you can do it:</p><hr>
<h3 id="1-components-needed"><strong>1. Components Needed</strong></h3>
<ul>
<li><strong>ESP8266</strong> (e.g., NodeMCU or Wemos D1 Mini)</li>
<li><strong>Microphone Module</strong> (e.g., MAX9814, MAX4466, or an I2S mic like INMP441)</li>
<li><strong>ADC (Analog-to-Digital Converter)</strong> (if using an analog mic)</li>
<li><strong>Power Supply</strong> (5V for ESP8266)</li>
</ul>
<hr>
<h3 id="2-challenges"><strong>2. Challenges</strong></h3>
<ul>
<li><strong>ESP8266 Limitations</strong>: It has limited processing power, no hardware audio codec, and only a single ADC channel with 10-bit resolution.</li>
<li><strong>Audio Sampling</strong>: The ADC sampling rate is relatively low, so audio quality might not be high.</li>
<li><strong>Wi-Fi Bandwidth</strong>: Streaming consumes bandwidth, and the ESP8266 may struggle to maintain a stable stream under heavy load.</li>
</ul>
<hr>
<h3 id="3-basic-approach"><strong>3. Basic Approach</strong></h3>
<h4 id="a-analog-microphone-with-adc">(a) <strong>Analog Microphone with ADC</strong>:</h4>
<ol>
<li>Connect the mic’s output to the ESP8266’s ADC (A0 pin).</li>
<li>Write firmware to sample audio at a low rate (e.g., 8 kHz for voice) using ESP8266’s ADC.</li>
</ol>
<h4 id="b-i2s-microphone-preferred">(b) <strong>I2S Microphone (Preferred)</strong>:</h4>
<ol>
<li>Use an I2S microphone like the INMP441 for digital audio capture. The ESP8266 doesn’t natively support I2S input, so use an ESP32 if possible.</li>
<li>If sticking to ESP8266, consider external I2S-to-serial converters (though it’s complex).</li>
</ol>
<h4 id="c-audio-compression">(c) <strong>Audio Compression</strong>:</h4>
<p>To fit the bandwidth and processing constraints, compress the audio using a simple codec:</p><ul>
<li>PCM (Uncompressed): Simple but bandwidth-heavy.</li>
<li>ADPCM: A simple lossy compression method.</li>
<li>Opus (if using more advanced hardware like ESP32).</li>
</ul>
<h4 id="d-streaming-protocol">(d) <strong>Streaming Protocol</strong>:</h4>
<p>Send the audio data over Wi-Fi using a lightweight protocol:</p><ul>
<li>Use <strong>HTTP</strong> or <strong>WebSocket</strong> to stream audio to a server or client.</li>
<li>Alternatively, send data via <strong>UDP</strong> for low latency.</li>
</ul>
<hr>
<h3 id="4-software-implementation"><strong>4. Software Implementation</strong></h3>
<p>Here’s a basic framework for the firmware:</p><ol>
<li><strong>Set up ADC</strong> to sample the microphone input.</li>
<li><strong>Buffer the audio samples</strong> in small chunks.</li>
<li><strong>Send the audio buffer</strong> over Wi-Fi to a server or directly to a listening client.</li>
</ol>
<h4 id="example-code-snippet-pseudo-arduino"><strong>Example Code Snippet (Pseudo-Arduino)</strong></h4>
<pre><code class="language-cpp">#include &lt;ESP8266WiFi.h&gt;
#include &lt;WiFiClient.h&gt;

const char* ssid = &quot;Your_SSID&quot;;
const char* password = &quot;Your_PASSWORD&quot;;
const char* serverIP = &quot;192.168.1.100&quot;; // Destination server
const int serverPort = 12345; // Destination port

WiFiClient client;

void setup() {
  Serial.begin(115200);
  WiFi.begin(ssid, password);

  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(&quot;.&quot;);
  }
  Serial.println(&quot;WiFi connected&quot;);
}

void loop() {
  if (!client.connected()) {
    client.connect(serverIP, serverPort);
  }

  int sample = analogRead(A0); // Read from mic (0-1023)
  byte lowByte = sample &amp; 0xFF;
  byte highByte = (sample &gt;&gt; 8) &amp; 0xFF;

  client.write(lowByte);
  client.write(highByte);

  delayMicroseconds(125); // ~8kHz sampling rate
}
</code></pre>
<hr>
<h3 id="5-server-side"><strong>5. Server-Side</strong></h3>
<p>Set up a server (e.g., using Python) to receive and play the audio stream. Here’s a basic framework:</p><h4 id="python-server"><strong>Python Server</strong></h4>
<pre><code class="language-python">import socket

server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
server.bind((&#39;0.0.0.0&#39;, 12345))
server.listen(1)

print(&quot;Waiting for connection...&quot;)
conn, addr = server.accept()
print(f&quot;Connected by {addr}&quot;)

while True:
    data = conn.recv(1024)  # Read audio stream
    if not data:
        break
    # Process audio data (e.g., save or play it)
    print(data)
</code></pre>
<hr>
<h3 id="6-considerations"><strong>6. Considerations</strong></h3>
<ul>
<li><strong>Upgrade to ESP32</strong>: If audio quality and I2S support are critical.</li>
<li><strong>External Audio Processor</strong>: Use external ADCs or DSPs for higher-quality audio.</li>
<li><strong>Bandwidth Management</strong>: Ensure efficient encoding and sampling rates to avoid network issues.</li>
</ul>
<p>This setup can work for basic audio streaming. Let me know if you’d like help optimizing or scaling it!</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Securely Connecting to an RDP Server Using Cloudflare Zero Trust and WARP</title>
        <author>
            <name>Ehmad</name>
        </author>
        <link href="https://blog.ehmad.site/securely-connecting-to-an-rdp-server-using-cloudflare-zero-trust-and-warp/"/>
        <id>https://blog.ehmad.site/securely-connecting-to-an-rdp-server-using-cloudflare-zero-trust-and-warp/</id>

        <updated>2024-11-29T13:34:41+05:00</updated>
            <summary>
                <![CDATA[
                    Accessing Remote Desktop Protocol (RDP) servers securely is critical for managing internal systems without exposing them to the public internet. Cloudflare Zero Trust, combined with Cloudflare Tunnel and the WARP client, provides an effective and secure solution for remote access. This guide walks through the&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Accessing Remote Desktop Protocol (RDP) servers securely is critical for managing internal systems without exposing them to the public internet. Cloudflare Zero Trust, combined with Cloudflare Tunnel and the WARP client, provides an effective and secure solution for remote access. This guide walks through the process of securely connecting to your RDP server using these tools.</p><hr>
<h3 id="benefits-of-using-cloudflare-zero-trust-for-rdp"><strong>Benefits of Using Cloudflare Zero Trust for RDP</strong></h3>
<ul>
<li><strong>Enhanced Security</strong>: No public IP exposure; connections are routed securely through Cloudflare’s network.</li>
<li><strong>Access Control</strong>: Fine-tune access policies to restrict or grant permissions based on users, devices, or groups.</li>
<li><strong>Private Connectivity</strong>: Devices act as though they are on the private network, ensuring seamless access.</li>
</ul>
<hr>
<h3 id="step-by-step-guide"><strong>Step-by-Step Guide</strong></h3>
<h4 id="1-connect-your-server-to-cloudflare"><strong>1. Connect Your Server to Cloudflare</strong></h4>
<p>The first step is to set up a Cloudflare Tunnel to create an outbound-only connection from your server to Cloudflare’s global network.</p><ol>
<li><p><strong>Create a Cloudflare Tunnel</strong>:</p><ul>
<li>Install the <strong>cloudflared</strong> agent on your RDP server:<pre><code class="language-bash">curl -fsSL https://developers.cloudflare.com/cloudflare-one/static/downloads/cloudflared-linux-amd64.deb -o cloudflared.deb
sudo dpkg -i cloudflared.deb
</code></pre>
</li>
<li>Authenticate with your Cloudflare account:<pre><code class="language-bash">cloudflared login
</code></pre>
</li>
<li>After login, create a tunnel:<pre><code class="language-bash">cloudflared tunnel create rdp-server
</code></pre>
</li>
</ul>
</li>
<li><p><strong>Add Private Network Configuration</strong>:</p><ul>
<li>In the <strong>Cloudflare Zero Trust Dashboard</strong>, go to <strong>Access</strong> → <strong>Tunnels</strong> and locate the newly created tunnel.</li>
<li>Under the <strong>Private Networks</strong> tab, add the private IP of your server (e.g., <code>10.1.15.150</code>) or a range that includes the server’s IP.</li>
</ul>
</li>
<li><p><strong>Run the Tunnel</strong>:</p><ul>
<li>Use the following command to start the tunnel:<pre><code class="language-bash">cloudflared tunnel run rdp-server
</code></pre>
</li>
</ul>
<p>Alternatively, configure the tunnel to run as a service:</p><pre><code class="language-bash">sudo cloudflared service install
sudo systemctl start cloudflared
</code></pre>
</li>
</ol>
<hr>
<h4 id="2-configure-cloudflare-zero-trust-policies"><strong>2. Configure Cloudflare Zero Trust Policies</strong></h4>
<p>Control who can access your RDP server by defining Zero Trust access policies.</p><ol>
<li><p><strong>Navigate to Access Policies</strong>:</p><ul>
<li>In the <strong>Zero Trust Dashboard</strong>, go to <strong>Access</strong> → <strong>Applications</strong> and add a new <strong>Private Network</strong> application.</li>
</ul>
</li>
<li><p><strong>Add an Application</strong>:</p><ul>
<li><strong>Name</strong>: Enter a descriptive name, such as <code>RDP Access</code>.</li>
<li><strong>Private IP</strong>: Enter the internal IP of your RDP server (e.g., <code>10.1.15.150</code>).</li>
</ul>
</li>
<li><p><strong>Define Access Policies</strong>:</p><ul>
<li>Specify the users, groups, or devices that are allowed to access this service. For example:<ul>
<li>Allow access only to specific email addresses.</li>
<li>Restrict access to managed devices.</li>
<li>Block connections from untrusted locations.</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Save and Apply</strong>:</p><ul>
<li>Save the application and access policies.</li>
</ul>
</li>
</ol>
<hr>
<h4 id="3-set-up-the-warp-client-on-client-devices"><strong>3. Set Up the WARP Client on Client Devices</strong></h4>
<p>The WARP client routes traffic from remote devices to your private network.</p><ol>
<li><p><strong>Deploy WARP</strong>:</p><ul>
<li>Install the Cloudflare WARP client on your devices:<ul>
<li><a href="https://www.cloudflare.com/products/warp/">Download WARP</a> for Windows, macOS, iOS, or Android.</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Enroll Devices in Zero Trust</strong>:</p><ul>
<li>In the Zero Trust Dashboard, go to <strong>Settings</strong> → <strong>Device Enrollment</strong> and create an enrollment policy.</li>
<li>Follow the enrollment process on the WARP client:<ul>
<li>Open WARP.</li>
<li>Go to <strong>Settings</strong> → <strong>Account</strong> → <strong>Login with Zero Trust</strong>.</li>
<li>Enter your organization’s Zero Trust domain (e.g., <code>yourorganization.cloudflareaccess.com</code>).</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Verify Connection</strong>:</p><ul>
<li>Confirm that the WARP client connects to your organization. The status should show “Connected.”</li>
</ul>
</li>
</ol>
<hr>
<h4 id="4-route-private-network-ips-through-warp"><strong>4. Route Private Network IPs Through WARP</strong></h4>
<p>Ensure WARP routes traffic destined for your private network.</p><ol>
<li><p><strong>Check Split Tunneling Configuration</strong>:</p><ul>
<li>By default, WARP excludes traffic bound for private IP ranges (RFC 1918). You need to include your private network range in the split tunneling configuration.</li>
</ul>
</li>
<li><p><strong>Add Your Network to Split Tunnels</strong>:</p><ul>
<li>Navigate to <strong>Settings</strong> → <strong>Network</strong> in the Zero Trust Dashboard.</li>
<li>If using <strong>Include Mode</strong>:<ul>
<li>Add your private network’s IP range (e.g., <code>10.1.0.0/16</code>).</li>
</ul>
</li>
<li>If using <strong>Exclude Mode</strong>:<ul>
<li>Remove the IP range corresponding to your private network.</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<h4 id="5-connect-as-a-user"><strong>5. Connect as a User</strong></h4>
<p>Once the WARP client is configured, use your RDP client to access the server.</p><ol>
<li><p><strong>Open RDP Client</strong>:</p><ul>
<li>For example, use <strong>Microsoft Remote Desktop</strong>.</li>
</ul>
</li>
<li><p><strong>Add a New Connection</strong>:</p><ul>
<li><strong>PC Name</strong>: Enter the private IP address of your RDP server (e.g., <code>10.1.15.150</code>).</li>
<li><strong>User Account</strong>: Enter your RDP credentials.</li>
</ul>
</li>
<li><p><strong>Test the Connection</strong>:</p><ul>
<li>Double-click the newly added PC.</li>
<li>Confirm the connection when prompted.</li>
<li>You should now be securely connected to the server as though you are on the same network.</li>
</ul>
</li>
</ol>
<hr>
<h3 id="additional-tips-and-best-practices"><strong>Additional Tips and Best Practices</strong></h3>
<ul>
<li><strong>DNS Resolution</strong>:<ul>
<li>If using hostnames instead of IPs, configure internal DNS resolution within Cloudflare Zero Trust.</li>
</ul>
</li>
<li><strong>Logging and Monitoring</strong>:<ul>
<li>Enable logs in the Zero Trust Dashboard to track user activity and troubleshoot issues.</li>
</ul>
</li>
<li><strong>Firewall Rules</strong>:<ul>
<li>Ensure your server firewall allows traffic from Cloudflare’s IP ranges.</li>
</ul>
</li>
</ul>
<hr>
<p><a href="https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/use-cases/rdp/">Cloudflare Guide</a></p><h3 id="conclusion"><strong>Conclusion</strong></h3>
<p>By combining Cloudflare Tunnel, Zero Trust access policies, and the WARP client, you can create a secure, scalable, and flexible solution for accessing RDP servers. This eliminates the need for exposing public IPs or relying on traditional VPNs, enhancing both security and user experience.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>api.cloud.tenda.com.cn debuging a router</title>
        <author>
            <name>Ehmad</name>
        </author>
        <link href="https://blog.ehmad.site/apicloudtendacomcn-debuging-a-router/"/>
        <id>https://blog.ehmad.site/apicloudtendacomcn-debuging-a-router/</id>

        <updated>2024-11-28T09:53:48+05:00</updated>
            <summary>
                <![CDATA[
                    Tenda Listener - PHP Script This PHP script is designed to receive, display, and log HTTP requests sent to the server. It is particularly useful for debugging and inspecting the data sent by devices connecting to a Tenda router. Specifically, it can capture data sent&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h1 id="tenda-listener---php-script">Tenda Listener - PHP Script</h1>
<p>This <a href="https://github.com/mrxehmad/api.cloud.tenda.com.cn"> PHP script</a> is designed to receive, display, and log HTTP requests sent to the server. It is particularly useful for debugging and inspecting the data sent by devices connecting to a Tenda router. Specifically, it can capture data sent to <code>api.cloud.tenda.com.cn</code> by redirecting it to a local server.</p><hr>
<h2 id="features">Features</h2>
<ul>
<li>Displays received HTTP headers.</li>
<li>Captures and prints <code>GET</code> and <code>POST</code> request data.</li>
<li>Shows the raw body of the request (e.g., JSON, XML, or other formats).</li>
<li>Allows monitoring of data sent to <code>api.cloud.tenda.com.cn</code> when a new device connects to the router.</li>
</ul>
<hr>
<h2 id="installation">Installation</h2>
<h3 id="1-deploy-the-php-script">1. Deploy the PHP Script</h3>
<ol>
<li><p>Place the <code>index.php</code> file in the desired directory on your web server:</p><pre><code class="language-bash">sudo mkdir -p /var/www/html/tenda-listener
sudo nano /var/www/html/tenda-listener/index.php
</code></pre>
<p>Add the PHP script content as described in this repository.</p></li>
<li><p>Set proper ownership and permissions for the web directory:</p><pre><code class="language-bash">sudo chown -R www-data:www-data /var/www/html/tenda-listener
sudo chmod -R 755 /var/www/html/tenda-listener
</code></pre>
</li>
<li><p>Configure Nginx to serve the PHP script. Create a new site configuration file:</p><pre><code class="language-bash">sudo nano /etc/nginx/sites-available/tenda-listener
</code></pre>
<p>Add the following configuration:</p><pre><code class="language-nginx">server {
    listen 80;
    server_name 192.168.0.x;

    root /var/www/html/tenda-listener;
    index index.php;

    location / {
        try_files $uri /index.php;
    }

    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php7.4-fpm.sock; # Adjust PHP version if necessary
    }
}
</code></pre>
</li>
<li><p>Enable the site:</p><pre><code class="language-bash">sudo ln -s /etc/nginx/sites-available/tenda-listener /etc/nginx/sites-enabled/
</code></pre>
</li>
<li><p>Test the configuration and reload Nginx:</p><pre><code class="language-bash">sudo nginx -t
sudo systemctl reload nginx
</code></pre>
</li>
</ol>
<hr>
<h3 id="2-configure-dns-request-forwarding">2. Configure DNS Request Forwarding</h3>
<p>To capture the data sent to <code>api.cloud.tenda.com.cn</code>, set up DNS request forwarding to redirect requests to your local server:</p><ol>
<li><p><strong>Modify the DNS Configuration on the Router:</strong></p><ul>
<li>Set up a DNS server (like Pi-hole or any DNS resolver) to resolve <code>api.cloud.tenda.com.cn</code> to your local server’s IP (<code>192.168.0.x</code>).</li>
<li>For example, if using Pi-hole:<ul>
<li>Navigate to <strong>Internet Settings</strong>.</li>
<li>Add a  dns to <code>192.168.0.x</code> (your dns server).
 <figure class="post__image"><img loading="lazy" src="https://blog.ehmad.site/media/posts/15/dns_setting.png" alt="DNS Setting tenda router" width="990" height="1001"  sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://blog.ehmad.site/media/posts/15/responsive/dns_setting-xs.webp 640w ,https://blog.ehmad.site/media/posts/15/responsive/dns_setting-sm.webp 768w ,https://blog.ehmad.site/media/posts/15/responsive/dns_setting-md.webp 1024w ,https://blog.ehmad.site/media/posts/15/responsive/dns_setting-lg.webp 1366w ,https://blog.ehmad.site/media/posts/15/responsive/dns_setting-xl.webp 1600w ,https://blog.ehmad.site/media/posts/15/responsive/dns_setting-2xl.webp 1920w"></figure></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Verify DNS Resolution:</strong>
Run the following command from a device on the same network:</p><pre><code class="language-bash">nslookup api.cloud.tenda.com.cn
</code></pre>
<p>It should return <code>192.168.0.x</code>.</p></li>
<li><p>Once configured, all traffic intended for <code>api.cloud.tenda.com.cn</code> will now be forwarded to your PHP listener.</p></li>
</ol>
<hr>
<h2 id="usage">Usage</h2>
<p>When a new device connects to the Tenda router, it sends data to <code>api.cloud.tenda.com.cn</code>. This data will be redirected to your PHP listener at <code>http://192.168.0.x</code>, where it can be inspected.</p><h3 id="viewing-data">Viewing Data</h3>
<ul>
<li>Open <code>http://192.168.0.x</code> in a browser to view incoming requests.</li>
<li>The page displays:<ol>
<li><strong>HTTP Headers</strong>: Headers sent with the request.</li>
<li><strong>GET/POST Data</strong>: Any data sent as query parameters or form data.</li>
<li><strong>Raw Body</strong>: The unprocessed body of the request, such as JSON or XML payloads.</li>
</ol>
</li>
</ul>
<hr>
<h2 id="sample-data-captured">Sample Data Captured</h2>
<p>Below is an example of data captured when a new device connects to the router:</p><h3 id="http-headers">HTTP Headers:</h3>
<pre><code>Array
(
    [Host] =&gt; api.cloud.tenda.com.cn
    [User-Agent] =&gt; TendaRouter/1.0
    [Content-Type] =&gt; application/json
    [Accept] =&gt; */*
)
</code></pre>
<h3 id="raw-input-data">Raw Input Data:</h3>
<pre><code class="language-json">{
    &quot;device_id&quot;: &quot;123456789&quot;,
    &quot;device_name&quot;: &quot;Smartphone&quot;,
    &quot;mac_address&quot;: &quot;AA:BB:CC:DD:EE:FF&quot;,
    &quot;connection_time&quot;: &quot;2024-10-31T10:00:00Z&quot;
}
</code></pre>
<p>This data shows the device ID, name, MAC address, and the connection timestamp.</p><hr>
<h2 id="notes">Notes</h2>
<ul>
<li>This script is for <strong>debugging purposes only</strong> and should not be exposed publicly without additional security measures.</li>
<li>Ensure the PHP version on your server supports the <code>getallheaders</code> function.</li>
<li>Use HTTPS for added security if exposing this listener outside your local network.</li>
</ul>

            ]]>
        </content>
    </entry>
    <entry>
        <title>configure Nginx with a self-signed SSL certificate for a domain</title>
        <author>
            <name>Ehmad</name>
        </author>
        <link href="https://blog.ehmad.site/configure-nginx-with-a-self-signed-ssl-certificate-for-a-domain/"/>
        <id>https://blog.ehmad.site/configure-nginx-with-a-self-signed-ssl-certificate-for-a-domain/</id>

        <updated>2024-11-25T19:39:13+05:00</updated>
            <summary>
                <![CDATA[
                    Here’s a step-by-step guide to configure Nginx with a self-signed SSL certificate for a domain, directing requests to a local service running on port 5006. First, you need to create a self-signed SSL certificate for the domain. You can use openssl to generate the certificate&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Here’s a step-by-step guide to configure Nginx with a self-signed SSL certificate for a domain, directing requests to a local service running on port <code>5006</code>.</p><h3 id="1-create-a-self-signed-ssl-certificate">1. Create a Self-Signed SSL Certificate</h3>
<p>First, you need to create a self-signed SSL certificate for the domain. You can use <code>openssl</code> to generate the certificate and private key.</p><ol>
<li><p><strong>Generate the SSL Certificate and Private Key:</strong></p><pre><code class="language-bash">sudo mkdir -p /etc/nginx/ssl
sudo openssl req -newkey rsa:2048 -nodes -keyout /etc/nginx/ssl/yourdomain.key -x509 -days 365 -out /etc/nginx/ssl/yourdomain.crt
</code></pre>
<p>Replace <code>yourdomain</code> with your actual domain name (e.g., <code>example.com</code>). During this command, you’ll be prompted to provide details for the certificate, such as Country Name, Organization, and so on. You can leave these fields blank if not required.</p></li>
</ol>
<h3 id="2-configure-nginx">2. Configure Nginx</h3>
<p>Now, configure Nginx to use the self-signed SSL certificate and to forward traffic to port <code>5006</code>.</p><ol>
<li><p><strong>Edit Nginx Configuration File:</strong></p><p>Open (or create) your domain configuration file in Nginx. Typically, it’s located in <code>/etc/nginx/sites-available/yourdomain</code>:</p><pre><code class="language-bash">sudo nano /etc/nginx/sites-available/yourdomain
</code></pre>
</li>
<li><p><strong>Add the SSL Configuration and Reverse Proxy Settings:</strong></p><p>Add the following configuration to the file:</p><pre><code class="language-nginx">server {
    listen 80;
    server_name yourdomain.com www.yourdomain.com;

    # Redirect all HTTP traffic to HTTPS
    return 301 https://$host$request_uri;
}

server {
    listen 443 ssl;
    server_name yourdomain.com www.yourdomain.com;

    # SSL Certificate and Key
    ssl_certificate /etc/nginx/ssl/yourdomain.crt;
    ssl_certificate_key /etc/nginx/ssl/yourdomain.key;

    # SSL Settings
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers on;

    # Proxy Pass to Local Port 5006
    location / {
        proxy_pass http://127.0.0.1:5006;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
</code></pre>
<p>This configuration does the following:</p><ul>
<li>Redirects HTTP traffic to HTTPS.</li>
<li>Configures SSL on port <code>443</code> with the self-signed certificate.</li>
<li>Proxies all HTTPS requests to the local server on port <code>5006</code>.</li>
</ul>
</li>
<li><p><strong>Enable the Site Configuration:</strong></p><p>Link the configuration file from <code>sites-available</code> to <code>sites-enabled</code> to enable it:</p><pre><code class="language-bash">sudo ln -s /etc/nginx/sites-available/yourdomain /etc/nginx/sites-enabled/
</code></pre>
</li>
<li><p><strong>Test the Nginx Configuration:</strong></p><p>Test the configuration to ensure there are no syntax errors:</p><pre><code class="language-bash">sudo nginx -t
</code></pre>
</li>
<li><p><strong>Reload Nginx:</strong></p><p>If the test is successful, reload Nginx to apply the changes:</p><pre><code class="language-bash">sudo systemctl reload nginx
</code></pre>
</li>
</ol>
<h3 id="3-verify-the-setup">3. Verify the Setup</h3>
<ul>
<li>Visit <code>https://yourdomain.com</code> in your browser. You should see a warning because the certificate is self-signed.</li>
<li>You can proceed to the site, and the requests should be proxied to the service running on port <code>5006</code>.</li>
</ul>
<h3 id="notes">Notes:</h3>
<ul>
<li>To bypass the certificate warning, you’ll need to add the certificate as a trusted authority in your browser or use a Certificate Authority (CA) to get a trusted SSL certificate for production environments.</li>
</ul>

            ]]>
        </content>
    </entry>
    <entry>
        <title>Create a simple seismograph with BMI160 6-DOF</title>
        <author>
            <name>Ehmad</name>
        </author>
        <link href="https://blog.ehmad.site/create-a-simple-seismograph-with-bmi160-6-dof/"/>
        <id>https://blog.ehmad.site/create-a-simple-seismograph-with-bmi160-6-dof/</id>

        <updated>2024-11-22T17:39:15+05:00</updated>
            <summary>
                <![CDATA[
                    Using the BMI160 6-DOF (Degrees of Freedom) Accelerometer and Gyroscope Module is a much better option than a microphone for a DIY seismograph! The BMI160 has a 3-axis accelerometer and a 3-axis gyroscope, which allows it to detect minute changes in acceleration and orientation. With&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Using the <strong>BMI160 6-DOF (Degrees of Freedom) Accelerometer and Gyroscope Module</strong> is a much better option than a microphone for a DIY seismograph! The BMI160 has a 3-axis accelerometer and a 3-axis gyroscope, which allows it to detect minute changes in acceleration and orientation. With the ESP8266, you can create a simple seismograph that measures and logs tremors, vibrations, and even tilt changes with this setup.</p><h3 id="advantages-of-using-the-bmi160">Advantages of Using the BMI160</h3>
<ol>
<li><strong>High Sensitivity to Small Movements</strong>: It’s designed to detect subtle changes in acceleration and orientation, making it suitable for measuring vibrations.</li>
<li><strong>6 DOF (Degrees of Freedom)</strong>: With both accelerometer and gyroscope, it provides more comprehensive data than a microphone, allowing you to capture vibrations on three axes (X, Y, and Z).</li>
<li><strong>Low Power Consumption</strong>: The BMI160 is energy-efficient, which makes it ideal for continuous monitoring applications like a seismograph.</li>
</ol>
<h3 id="what-youll-need">What You’ll Need</h3>
<ol>
<li><strong>ESP8266</strong> (like NodeMCU or ESP-01)</li>
<li><strong>BMI160 6 DOF IMU Module</strong></li>
<li><strong>Breadboard and Jumper Wires</strong></li>
<li><strong>Optional</strong>: LED, Buzzer, or OLED display for alerts or real-time data</li>
</ol>
<h3 id="step-by-step-guide">Step-by-Step Guide</h3>
<h4 id="1-connecting-the-bmi160-to-the-esp8266">1. Connecting the BMI160 to the ESP8266</h4>
<p>The BMI160 typically uses <strong>I2C</strong> or <strong>SPI</strong> for communication. I2C is simpler, so we’ll go with that.</p><ul>
<li><strong>Connect VCC</strong> on the BMI160 to <strong>3.3V</strong> on the ESP8266.</li>
<li><strong>Connect GND</strong> on the BMI160 to <strong>GND</strong> on the ESP8266.</li>
<li><strong>Connect SDA</strong> on the BMI160 to <strong>D2</strong> on the ESP8266 (GPIO4).</li>
<li><strong>Connect SCL</strong> on the BMI160 to <strong>D1</strong> on the ESP8266 (GPIO5).</li>
</ul>
<h4 id="2-installing-required-libraries">2. Installing Required Libraries</h4>
<p>To use the BMI160, you can use the <strong>Adafruit BMI160 library</strong> in the Arduino IDE. Install this via the <strong>Library Manager</strong>:</p><ol>
<li>Go to <strong>Sketch &gt; Include Library &gt; Manage Libraries…</strong></li>
<li>Search for <code>Adafruit BMI160</code> and install it.</li>
</ol>
<h4 id="3-code-for-reading-accelerometer-data">3. Code for Reading Accelerometer Data</h4>
<p>Here’s a basic example of code to read the accelerometer values (acceleration in X, Y, Z axes) from the BMI160, which can then be used to detect vibrations:</p><pre><code class="language-cpp">#include &lt;Wire.h&gt;
#include &lt;Adafruit_Sensor.h&gt;
#include &lt;Adafruit_BMI160.h&gt;

Adafruit_BMI160 bmi160;

void setup() {
  Serial.begin(115200);

  // Initialize the BMI160 sensor
  if (!bmi160.begin(BMI160_I2C_ADDR, &amp;Wire)) {
    Serial.println(&quot;Could not find a valid BMI160 sensor, check wiring!&quot;);
    while (1);
  }

  bmi160.setAccelRange(BMI160_ACCELRANGE_2G);  // Set range to 2G for more sensitivity
}

void loop() {
  // Get accelerometer readings
  sensors_event_t accelEvent;
  bmi160.getEvent(&amp;accelEvent, NULL, NULL);

  float accelX = accelEvent.acceleration.x;  // Acceleration in X-axis
  float accelY = accelEvent.acceleration.y;  // Acceleration in Y-axis
  float accelZ = accelEvent.acceleration.z;  // Acceleration in Z-axis

  Serial.print(&quot;X: &quot;); Serial.print(accelX); Serial.print(&quot; m/s² &quot;);
  Serial.print(&quot;Y: &quot;); Serial.print(accelY); Serial.print(&quot; m/s² &quot;);
  Serial.print(&quot;Z: &quot;); Serial.print(accelZ); Serial.println(&quot; m/s²&quot;);

  // Threshold-based vibration detection
  float threshold = 0.1;  // Adjust threshold based on sensitivity
  if (abs(accelX) &gt; threshold || abs(accelY) &gt; threshold || abs(accelZ) &gt; threshold) {
    Serial.println(&quot;Vibration Detected!&quot;);
  }

  delay(50);  // Adjust sampling frequency as needed
}
</code></pre>
<h3 id="explanation-of-the-code">Explanation of the Code</h3>
<ul>
<li><strong>Initialize the BMI160</strong>: This checks the connection with the BMI160 and sets the accelerometer range (2G is the most sensitive, suitable for small vibrations).</li>
<li><strong>Read Acceleration</strong>: Reads acceleration in each axis (X, Y, Z). The values are in m/s² (meters per second squared).</li>
<li><strong>Threshold Detection</strong>: If any of the acceleration values exceed a set threshold (0.1 m/s² in this example), it logs a “Vibration Detected!” message. You can adjust this threshold based on your environment to avoid false positives.</li>
</ul>
<h4 id="4-optional-data-logging-or-real-time-visualization">4. Optional: Data Logging or Real-Time Visualization</h4>
<ul>
<li><strong>Logging Data</strong>: You can send the data over Wi-Fi (e.g., to a server or cloud service) for long-term monitoring.</li>
<li><strong>OLED Display</strong>: If you add a small OLED display, you can view real-time data on-site.</li>
<li><strong>Alerts</strong>: Connect an LED or buzzer to trigger whenever a vibration is detected.</li>
</ul>
<h4 id="5-fine-tuning-the-sensitivity">5. Fine-Tuning the Sensitivity</h4>
<p>You may need to experiment with:</p><ul>
<li><strong>Accelerometer Range</strong>: Setting it to <strong>2G</strong> gives more sensitivity to small vibrations, while <strong>4G</strong> or <strong>8G</strong> can capture more intense movements.</li>
<li><strong>Sampling Frequency</strong>: Increasing the sampling rate (by reducing <code>delay()</code> in <code>loop()</code>) allows for detecting fast, short vibrations.</li>
</ul>
<h4 id="limitations-and-notes">Limitations and Notes</h4>
<ul>
<li><strong>Vibration Resolution</strong>: The BMI160 has good resolution, but it’s not as sensitive as professional seismometers. However, it should be able to pick up noticeable tremors and vibrations.</li>
<li><strong>Noise Filtering</strong>: You can filter noise using a moving average or low-pass filter in code to reduce background noise and focus on specific vibrations.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This setup with the BMI160 and ESP8266 should give you a basic yet effective vibration-sensing system that behaves similarly to a simple seismograph. It can detect various vibrations and small movements and can be enhanced with Wi-Fi logging for remote monitoring.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Setup a V2Ray server</title>
        <author>
            <name>Ehmad</name>
        </author>
        <link href="https://blog.ehmad.site/setup-a-v2ray-server/"/>
        <id>https://blog.ehmad.site/setup-a-v2ray-server/</id>

        <updated>2024-11-20T18:17:04+05:00</updated>
            <summary>
                <![CDATA[
                    Setup a V2Ray server allows you to create a custom VPN or proxy server with advanced features such as multiple protocols, routing rules, and security measures. V2Ray is often used to bypass internet censorship, improve privacy, or enhance speed for certain applications. Below is a&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Setup a <strong>V2Ray server</strong> allows you to create a custom VPN or proxy server with advanced features such as multiple protocols, routing rules, and security measures. V2Ray is often used to bypass internet censorship, improve privacy, or enhance speed for certain applications. Below is a guide for setting up a V2Ray server on a VPS (e.g., on an Ubuntu server) and configuring it to run securely.</p><figure class="post__image"><img loading="lazy" src="https://blog.ehmad.site/media/posts/12/v2ray-2.jpg" alt="Setup a V2Ray server" width="1600" height="900"  sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://blog.ehmad.site/media/posts/12/responsive/v2ray-2-xs.webp 640w ,https://blog.ehmad.site/media/posts/12/responsive/v2ray-2-sm.webp 768w ,https://blog.ehmad.site/media/posts/12/responsive/v2ray-2-md.webp 1024w ,https://blog.ehmad.site/media/posts/12/responsive/v2ray-2-lg.webp 1366w ,https://blog.ehmad.site/media/posts/12/responsive/v2ray-2-xl.webp 1600w ,https://blog.ehmad.site/media/posts/12/responsive/v2ray-2-2xl.webp 1920w"></figure><h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>A VPS with a public IP address, running <strong>Ubuntu 18.04+</strong> or <strong>Debian 9+</strong>.</li>
<li>Basic knowledge of command-line operations.</li>
<li>A domain name (optional, but recommended for easier access and setting up TLS encryption).</li>
</ul>
<h3 id="step-1-update-and-install-necessary-packages">Step 1: Update and Install Necessary Packages</h3>
<p>Log into your server and update it:</p><pre><code class="language-bash">sudo apt update &amp;&amp; sudo apt upgrade -y
</code></pre>
<p>Install necessary packages:</p><pre><code class="language-bash">sudo apt install -y curl vim unzip
</code></pre>
<h3 id="step-2-install-v2ray">Step 2: Install V2Ray</h3>
<p>The official V2Ray team offers a script to simplify installation:</p><pre><code class="language-bash">bash &lt;(curl -L https://install.direct/go.sh)
</code></pre>
<p>This will:</p><ul>
<li>Download the latest version of V2Ray.</li>
<li>Install it to <code>/usr/local/bin/v2ray</code>.</li>
<li>Create necessary configuration directories (<code>/etc/v2ray</code>).</li>
<li>Set up systemd services.</li>
</ul>
<p>Once the script completes, V2Ray will be installed and ready to configure.</p><h3 id="step-3-configure-v2ray-server">Step 3: Configure V2Ray Server</h3>
<p>The main configuration file for V2Ray is located at <code>/etc/v2ray/config.json</code>. Here is a basic configuration for a V2Ray server using <strong>VMess protocol</strong> with WebSocket transport:</p><ol>
<li><p>Open the configuration file:</p><pre><code class="language-bash">sudo vim /etc/v2ray/config.json
</code></pre>
</li>
<li><p>Replace its contents with a simple configuration:</p><pre><code class="language-json">{
  &quot;inbounds&quot;: [
    {
      &quot;port&quot;: 443,
      &quot;protocol&quot;: &quot;vmess&quot;,
      &quot;settings&quot;: {
        &quot;clients&quot;: [
          {
            &quot;id&quot;: &quot;YOUR_UUID&quot;,
            &quot;alterId&quot;: 64
          }
        ]
      },
      &quot;streamSettings&quot;: {
        &quot;network&quot;: &quot;ws&quot;,
        &quot;wsSettings&quot;: {
          &quot;path&quot;: &quot;/v2ray&quot;
        }
      }
    }
  ],
  &quot;outbounds&quot;: [
    {
      &quot;protocol&quot;: &quot;freedom&quot;,
      &quot;settings&quot;: {}
    }
  ]
}
</code></pre>
<ul>
<li><p><strong>Replace <code>YOUR_UUID</code></strong> with a unique UUID for your client. Generate a UUID with:</p><pre><code class="language-bash">uuidgen
</code></pre>
</li>
<li><p><strong>Adjust the <code>port</code></strong> if 443 is already in use, or if you want to use a custom port.</p></li>
</ul>
</li>
</ol>
<h3 id="step-4-set-up-tls-optional-but-recommended">Step 4: Set Up TLS (Optional but Recommended)</h3>
<p>TLS encrypts your traffic, making it harder to detect or block.</p><ol>
<li><p><strong>Install Certbot</strong>:</p><pre><code class="language-bash">sudo apt install -y certbot
</code></pre>
</li>
<li><p><strong>Request a certificate</strong> for your domain:</p><pre><code class="language-bash">sudo certbot certonly --standalone -d yourdomain.com
</code></pre>
</li>
<li><p>Update the <code>config.json</code> to include TLS settings:</p><pre><code class="language-json">{
  &quot;inbounds&quot;: [
    {
      &quot;port&quot;: 443,
      &quot;protocol&quot;: &quot;vmess&quot;,
      &quot;settings&quot;: {
        &quot;clients&quot;: [
          {
            &quot;id&quot;: &quot;YOUR_UUID&quot;,
            &quot;alterId&quot;: 64
          }
        ]
      },
      &quot;streamSettings&quot;: {
        &quot;network&quot;: &quot;ws&quot;,
        &quot;security&quot;: &quot;tls&quot;,
        &quot;tlsSettings&quot;: {
          &quot;certificates&quot;: [
            {
              &quot;certificateFile&quot;: &quot;/etc/letsencrypt/live/yourdomain.com/fullchain.pem&quot;,
              &quot;keyFile&quot;: &quot;/etc/letsencrypt/live/yourdomain.com/privkey.pem&quot;
            }
          ]
        },
        &quot;wsSettings&quot;: {
          &quot;path&quot;: &quot;/v2ray&quot;
        }
      }
    }
  ],
  &quot;outbounds&quot;: [
    {
      &quot;protocol&quot;: &quot;freedom&quot;,
      &quot;settings&quot;: {}
    }
  ]
}
</code></pre>
</li>
<li><p>Restart V2Ray to apply the new settings:</p><pre><code class="language-bash">sudo systemctl restart v2ray
</code></pre>
</li>
</ol>
<h3 id="step-5-open-the-firewall-ports">Step 5: Open the Firewall Ports</h3>
<p>Ensure that your firewall allows traffic on the port you’ve chosen for V2Ray (443 in this example):</p><pre><code class="language-bash">sudo ufw allow 443/tcp
sudo ufw allow 443/udp
</code></pre>
<h3 id="step-6-configure-v2ray-client">Step 6: Configure V2Ray Client</h3>
<p>To connect to your server, you’ll need a V2Ray client app (e.g., V2RayN for Windows or Shadowrocket for iOS).</p><ol>
<li><p>In the client app, use these settings:</p><ul>
<li><strong>Address</strong>: <code>yourdomain.com</code> or server IP</li>
<li><strong>Port</strong>: <code>443</code></li>
<li><strong>UUID</strong>: The UUID you generated for <code>YOUR_UUID</code></li>
<li><strong>AlterID</strong>: <code>64</code></li>
<li><strong>Network</strong>: <code>WebSocket</code></li>
<li><strong>Path</strong>: <code>/v2ray</code></li>
<li><strong>TLS</strong>: Enable, if you’ve set up TLS.</li>
</ul>
</li>
<li><p>Save and connect.</p></li>
</ol>
<h3 id="step-7-start-and-enable-v2ray-service">Step 7: Start and Enable V2Ray Service</h3>
<p>Enable and start V2Ray as a service to keep it running:</p><pre><code class="language-bash">sudo systemctl enable v2ray
sudo systemctl start v2ray
</code></pre>
<h3 id="troubleshooting-tips">Troubleshooting Tips</h3>
<ul>
<li><strong>Logs</strong>: If V2Ray is not working, check the logs with:<pre><code class="language-bash">sudo journalctl -u v2ray -f
</code></pre>
</li>
<li><strong>Firewall</strong>: Double-check that the firewall settings match your V2Ray configuration.</li>
<li><strong>Config Validation</strong>: Use <code>jq</code> to validate <code>config.json</code> syntax:<pre><code class="language-bash">jq . /etc/v2ray/config.json
</code></pre>
</li>
</ul>
<p>You now have a working V2Ray server!</p>
            ]]>
        </content>
    </entry>
</feed>
